-- Insert Users (Doctors) + 1 Receptionist
INSERT INTO users (username, password, name, email, role, active) VALUES
('smith.j', 'password', 'Dr. Smith', 'smith@example.com', 1, true),
('johnson.m', 'password', 'Dr. Johnson', 'johnson@example.com', 1, true),
('williams.d', 'password', 'Dr. Williams', 'williams@example.com', 1, true),
('max.m', 'password', 'Max Mustermann', 'max@example.com', 0, true);

-- Insert Patients
INSERT INTO patients (name, birthdate, insurance_number, insurance_provider, email, phone_number) VALUES
('John Doe', '1980-01-01', 'INS001', 'Provider A', 'john@example.com', '+49 30 1234 5678'),
('Jane Smith', '1985-05-15', 'INS002', 'Provider B', 'jane@example.com', '+49 40 9876 5432'),
('Bob Johnson', '1990-10-20', 'INS003', 'Provider A', 'bob@example.com', '+49 89 2468 1357'),
('Alice Brown', '1975-03-30', 'INS004', 'Provider C', 'alice@example.com', '+49 69 1357 2468'),
('Charlie Davis', '1988-07-07', 'INS005', 'Provider B', 'charlie@example.com', '+49 211 8765 4321'),
('Eva Wilson', '1992-12-25', 'INS006', 'Provider A', 'eva@example.com', '+49 221 4567 8901'),
('Frank Miller', '1970-06-18', 'INS007', 'Provider C', 'frank@example.com', '+49 351 7890 1234'),
('Grace Lee', '1995-09-03', 'INS008', 'Provider B', 'grace@example.com', '+49 521 2345 6789'),
('Henry Taylor', '1982-11-11', 'INS009', 'Provider A', 'henry@example.com', '+49 711 8901 2345'),
('Ivy Clark', '1987-04-22', 'INS010', 'Provider C', 'ivy@example.com', '+49 911 3456 7890');

-- Insert Appointments
WITH doctor_ids AS (
  SELECT id FROM users WHERE role = 1 ORDER BY id LIMIT 3
),
appointment_data AS (
  SELECT
    'Appointment ' || ROW_NUMBER() OVER (ORDER BY (SELECT NULL)) as title,
    PARSEDATETIME(start_time, 'yyyy-MM-dd HH:mm:ss') as start,
    appointment_type,
    PARSEDATETIME(end_time, 'yyyy-MM-dd HH:mm:ss') as "end",
    doctor_index,
    patient_id
  FROM (VALUES
    ('2024-01-08 09:00:00', '2024-01-08 09:30:00', 0, 1, 1),
    ('2024-01-08 10:00:00', '2024-01-08 11:00:00', 1, 1, 2),
    ('2024-01-08 11:30:00', '2024-01-08 13:30:00', 2, 1, 3),
    ('2024-01-08 14:00:00', '2024-01-08 14:30:00', 0, 1, 4),
    ('2024-01-08 15:00:00', '2024-01-08 16:00:00', 1, 1, 5),
    ('2024-01-08 09:30:00', '2024-01-08 10:30:00', 1, 2, 6),
    ('2024-01-08 11:00:00', '2024-01-08 11:30:00', 0, 2, 7),
    ('2024-01-08 13:00:00', '2024-01-08 15:00:00', 2, 2, 8),
    ('2024-01-08 15:30:00', '2024-01-08 16:00:00', 0, 2, 9),
    ('2024-01-08 09:00:00', '2024-01-08 11:00:00', 2, 3, 10),
    ('2024-01-08 11:30:00', '2024-01-08 12:30:00', 1, 3, 1),
    ('2024-01-08 14:00:00', '2024-01-08 14:30:00', 0, 3, 2),
    ('2024-01-08 15:00:00', '2024-01-08 16:00:00', 1, 3, 3),
    ('2024-01-09 09:30:00', '2024-01-09 10:30:00', 1, 1, 4),
    ('2024-01-09 11:00:00', '2024-01-09 11:30:00', 0, 1, 5),
    ('2024-01-09 13:00:00', '2024-01-09 15:00:00', 2, 1, 6),
    ('2024-01-09 15:30:00', '2024-01-09 16:00:00', 0, 1, 7),
    ('2024-01-09 09:00:00', '2024-01-09 11:00:00', 2, 2, 8),
    ('2024-01-09 11:30:00', '2024-01-09 12:30:00', 1, 2, 9),
    ('2024-01-09 14:00:00', '2024-01-09 14:30:00', 0, 2, 10),
    ('2024-01-09 15:00:00', '2024-01-09 16:00:00', 1, 2, 1),
    ('2024-01-09 09:00:00', '2024-01-09 09:30:00', 0, 3, 2),
    ('2024-01-09 10:00:00', '2024-01-09 11:00:00', 1, 3, 3),
    ('2024-01-09 11:30:00', '2024-01-09 13:30:00', 2, 3, 4),
    ('2024-01-09 14:00:00', '2024-01-09 14:30:00', 0, 3, 5),
    ('2024-01-09 15:00:00', '2024-01-09 16:00:00', 1, 3, 6),
    ('2024-01-10 09:00:00', '2024-01-10 11:00:00', 2, 1, 7),
    ('2024-01-10 11:30:00', '2024-01-10 12:30:00', 1, 1, 8),
    ('2024-01-10 14:00:00', '2024-01-10 14:30:00', 0, 1, 9),
    ('2024-01-10 15:00:00', '2024-01-10 16:00:00', 1, 1, 10),
    ('2024-01-10 09:00:00', '2024-01-10 09:30:00', 0, 2, 1),
    ('2024-01-10 10:00:00', '2024-01-10 11:00:00', 1, 2, 2),
    ('2024-01-10 11:30:00', '2024-01-10 13:30:00', 2, 2, 3),
    ('2024-01-10 14:00:00', '2024-01-10 14:30:00', 0, 2, 4),
    ('2024-01-10 15:00:00', '2024-01-10 16:00:00', 1, 2, 5),
    ('2024-01-10 09:30:00', '2024-01-10 10:30:00', 1, 3, 6),
    ('2024-01-10 11:00:00', '2024-01-10 11:30:00', 0, 3, 7),
    ('2024-01-10 13:00:00', '2024-01-10 15:00:00', 2, 3, 8),
    ('2024-01-10 15:30:00', '2024-01-10 16:00:00', 0, 3, 9),
    ('2024-01-11 09:30:00', '2024-01-11 10:30:00', 1, 1, 10),
    ('2024-01-11 11:00:00', '2024-01-11 11:30:00', 0, 1, 1),
    ('2024-01-11 13:00:00', '2024-01-11 15:00:00', 2, 1, 2),
    ('2024-01-11 15:30:00', '2024-01-11 16:00:00', 0, 1, 3),
    ('2024-01-11 09:00:00', '2024-01-11 11:00:00', 2, 2, 4),
    ('2024-01-11 11:30:00', '2024-01-11 12:30:00', 1, 2, 5),
    ('2024-01-11 14:00:00', '2024-01-11 14:30:00', 0, 2, 6),
    ('2024-01-11 15:00:00', '2024-01-11 16:00:00', 1, 2, 7),
    ('2024-01-11 09:00:00', '2024-01-11 09:30:00', 0, 3, 8),
    ('2024-01-11 10:00:00', '2024-01-11 11:00:00', 1, 3, 9),
    ('2024-01-11 11:30:00', '2024-01-11 13:30:00', 2, 3, 10),
    ('2024-01-11 14:00:00', '2024-01-11 14:30:00', 0, 3, 1),
    ('2024-01-11 15:00:00', '2024-01-11 16:00:00', 1, 3, 2),
    ('2024-01-12 09:00:00', '2024-01-12 11:00:00', 2, 1, 3),
    ('2024-01-12 11:30:00', '2024-01-12 12:30:00', 1, 1, 4),
    ('2024-01-12 14:00:00', '2024-01-12 14:30:00', 0, 1, 5),
    ('2024-01-12 15:00:00', '2024-01-12 16:00:00', 1, 1, 6),
    ('2024-01-12 09:00:00', '2024-01-12 09:30:00', 0, 2, 7),
    ('2024-01-12 10:00:00', '2024-01-12 11:00:00', 1, 2, 8),
    ('2024-01-12 11:30:00', '2024-01-12 13:30:00', 2, 2, 9),
    ('2024-01-12 14:00:00', '2024-01-12 14:30:00', 0, 2, 10),
    ('2024-01-12 15:00:00', '2024-01-12 16:00:00', 1, 2, 1),
    ('2024-01-12 09:30:00', '2024-01-12 10:30:00', 1, 3, 2),
    ('2024-01-12 11:00:00', '2024-01-12 11:30:00', 0, 3, 3),
    ('2024-01-12 13:00:00', '2024-01-12 15:00:00', 2, 3, 4),
    ('2024-01-12 15:30:00', '2024-01-12 16:00:00', 0, 3, 5),
    ('2024-01-15 09:00:00', '2024-01-15 09:30:00', 0, 1, 6),
    ('2024-01-15 10:00:00', '2024-01-15 11:00:00', 1, 1, 7),
    ('2024-01-15 11:30:00', '2024-01-15 13:30:00', 2, 1, 8),
    ('2024-01-15 14:00:00', '2024-01-15 14:30:00', 0, 1, 9),
    ('2024-01-15 15:00:00', '2024-01-15 16:00:00', 1, 1, 10),
    ('2024-01-15 09:30:00', '2024-01-15 10:30:00', 1, 2, 1),
    ('2024-01-15 11:00:00', '2024-01-15 11:30:00', 0, 2, 2),
    ('2024-01-15 13:00:00', '2024-01-15 15:00:00', 2, 2, 3),
    ('2024-01-15 15:30:00', '2024-01-15 16:00:00', 0, 2, 4),
    ('2024-01-15 09:00:00', '2024-01-15 11:00:00', 2, 3, 5),
    ('2024-01-15 11:30:00', '2024-01-15 12:30:00', 1, 3, 6),
    ('2024-01-15 14:00:00', '2024-01-15 14:30:00', 0, 3, 7),
    ('2024-01-15 15:00:00', '2024-01-15 16:00:00', 1, 3, 8),
    ('2024-01-16 09:30:00', '2024-01-16 10:30:00', 1, 1, 9),
    ('2024-01-16 11:00:00', '2024-01-16 11:30:00', 0, 1, 10),
    ('2024-01-16 13:00:00', '2024-01-16 15:00:00', 2, 1, 1),
    ('2024-01-16 15:30:00', '2024-01-16 16:00:00', 0, 1, 2),
    ('2024-01-16 09:00:00', '2024-01-16 11:00:00', 2, 2, 3),
    ('2024-01-16 11:30:00', '2024-01-16 12:30:00', 1, 2, 4),
    ('2024-01-16 14:00:00', '2024-01-16 14:30:00', 0, 2, 5),
    ('2024-01-16 15:00:00', '2024-01-16 16:00:00', 1, 2, 6),
    ('2024-01-16 09:00:00', '2024-01-16 09:30:00', 0, 3, 7),
    ('2024-01-16 10:00:00', '2024-01-16 11:00:00', 1, 3, 8),
    ('2024-01-16 11:30:00', '2024-01-16 13:30:00', 2, 3, 9),
    ('2024-01-16 14:00:00', '2024-01-16 14:30:00', 0, 3, 10),
    ('2024-01-16 15:00:00', '2024-01-16 16:00:00', 1, 3, 1),
    ('2024-01-17 09:00:00', '2024-01-17 11:00:00', 2, 1, 2),
    ('2024-01-17 11:30:00', '2024-01-17 12:30:00', 1, 1, 3),
    ('2024-01-17 14:00:00', '2024-01-17 14:30:00', 0, 1, 4),
    ('2024-01-17 15:00:00', '2024-01-17 16:00:00', 1, 1, 5),
    ('2024-01-17 09:00:00', '2024-01-17 09:30:00', 0, 2, 6),
    ('2024-01-17 10:00:00', '2024-01-17 11:00:00', 1, 2, 7),
    ('2024-01-17 11:30:00', '2024-01-17 13:30:00', 2, 2, 8),
    ('2024-01-17 14:00:00', '2024-01-17 14:30:00', 0, 2, 9),
    ('2024-01-17 15:00:00', '2024-01-17 16:00:00', 1, 2, 10),
    ('2024-01-17 09:30:00', '2024-01-17 10:30:00', 1, 3, 1),
    ('2024-01-17 11:00:00', '2024-01-17 11:30:00', 0, 3, 2),
    ('2024-01-17 13:00:00', '2024-01-17 15:00:00', 2, 3, 3),
    ('2024-01-17 15:30:00', '2024-01-17 16:00:00', 0, 3, 4),
    ('2024-01-18 09:30:00', '2024-01-18 10:30:00', 1, 1, 5),
    ('2024-01-18 11:00:00', '2024-01-18 11:30:00', 0, 1, 6),
    ('2024-01-18 13:00:00', '2024-01-18 15:00:00', 2, 1, 7),
    ('2024-01-18 15:30:00', '2024-01-18 16:00:00', 0, 1, 8),
    ('2024-01-18 09:00:00', '2024-01-18 11:00:00', 2, 2, 9),
    ('2024-01-18 11:30:00', '2024-01-18 12:30:00', 1, 2, 10),
    ('2024-01-18 14:00:00', '2024-01-18 14:30:00', 0, 2, 1),
    ('2024-01-18 15:00:00', '2024-01-18 16:00:00', 1, 2, 2),
    ('2024-01-18 09:00:00', '2024-01-18 09:30:00', 0, 3, 3),
    ('2024-01-18 10:00:00', '2024-01-18 11:00:00', 1, 3, 4),
    ('2024-01-18 11:30:00', '2024-01-18 13:30:00', 2, 3, 5),
    ('2024-01-18 14:00:00', '2024-01-18 14:30:00', 0, 3, 6),
    ('2024-01-18 15:00:00', '2024-01-18 16:00:00', 1, 3, 7),
    ('2024-01-19 09:00:00', '2024-01-19 11:00:00', 2, 1, 8),
    ('2024-01-19 11:30:00', '2024-01-19 12:30:00', 1, 1, 9),
    ('2024-01-19 14:00:00', '2024-01-19 14:30:00', 0, 1, 10),
    ('2024-01-19 15:00:00', '2024-01-19 16:00:00', 1, 1, 1),
    ('2024-01-19 09:00:00', '2024-01-19 09:30:00', 0, 2, 2),
    ('2024-01-19 10:00:00', '2024-01-19 11:00:00', 1, 2, 3),
    ('2024-01-19 11:30:00', '2024-01-19 13:30:00', 2, 2, 4),
    ('2024-01-19 14:00:00', '2024-01-19 14:30:00', 0, 2, 5),
    ('2024-01-19 15:00:00', '2024-01-19 16:00:00', 1, 2, 6),
    ('2024-01-19 09:30:00', '2024-01-19 10:30:00', 1, 3, 7),
    ('2024-01-19 11:00:00', '2024-01-19 11:30:00', 0, 3, 8),
    ('2024-01-19 13:00:00', '2024-01-19 15:00:00', 2, 3, 9),
    ('2024-01-19 15:30:00', '2024-01-19 16:00:00', 0, 3, 10)
  ) AS v(start_time, end_time, appointment_type, doctor_index, patient_id)
)
INSERT INTO appointments (title, start, appointment_type, "end", doctor_id, patient_id)
SELECT
  a.title,
  a.start,
  a.appointment_type,
  a."end",
  d.id AS doctor_id,
  a.patient_id
FROM appointment_data a
JOIN (
  SELECT id, ROW_NUMBER() OVER (ORDER BY id) AS rn
  FROM doctor_ids
) d ON a.doctor_index = d.rn;
